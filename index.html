<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dejoco Blocks</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <div id="menu">
        <h1>Dejoco Blocks</h1>
        <p class="tagline">a Dejoco Arts game</p>
        <div class="language-selector">
            <button id="lang-ca" class="lang-btn active">Català</button>
            <button id="lang-en" class="lang-btn">English</button>
        </div>
        <div class="player-name-wrapper">
            <label for="player-name" data-ca="Nom" data-en="Name">Nom</label>
            <input id="player-name" type="text" maxlength="12" placeholder="Player" />
        </div>
        <button id="new-game" data-ca="Nova Partida" data-en="New Game">Nova Partida</button>
        <button id="highscores" data-ca="Puntuacions" data-en="Highscores">Puntuacions</button>
        <button id="credits" data-ca="Crèdits" data-en="Credits">Crèdits</button>
        <button id="clear-local-scores" data-ca="Esborrar Puntuacions Locals" data-en="Clear Local Scores">Esborrar Puntuacions Locals</button>
        <div class="music-control">
            <input type="checkbox" id="music-enabled">
            <label for="music-enabled" data-ca="Música" data-en="Music">Música</label>
            <button id="music-mute" data-ca="Silenciar" data-en="Mute">Silenciar</button>
            <label for="music-volume" data-ca="Volum" data-en="Volume">Volum</label>
            <input type="range" id="music-volume" min="0" max="1" step="0.05" value="0.5" />
        </div>
    </div>
    <div id="game-container" style="display: none;">
        <canvas id="game-canvas"></canvas>
        <div id="game-info">
            <div class="game-stats">
                <div>
                    <h3 data-ca="Puntuació" data-en="Score">Puntuació</h3>
                    <p id="score">0</p>
                </div>
                <div>
                    <h3 data-ca="Temps" data-en="Time">Temps</h3>
                    <p id="timer">00:00</p>
                </div>
                <div>
                    <h3 data-ca="Nivell" data-en="Level">Nivell</h3>
                    <p id="level">1</p>
                </div>
            </div>
            <h3 data-ca="Següent" data-en="Next">Següent</h3>
            <canvas id="next-piece-canvas"></canvas>
            <div id="mobile-controls">
                <button id="left">&#x2B05;</button>
                <button id="rotate">&#x21BB;</button>
                <button id="right">&#x27A1;</button>
                <button id="down">&#x2B07;</button>
            </div>
        </div>
    </div>
    <div id="highscores-screen" style="display: none;">
        <h1 data-ca="Puntuacions Altes" data-en="High Scores">Puntuacions Altes</h1>
        <ul id="highscores-list">
            <!-- Scores will be populated by script.js -->
        </ul>
        <div class="highscores-actions">
            <button id="refresh-highscores" data-ca="Refrescar" data-en="Refresh">Refrescar</button>
            <button id="back-to-menu" data-ca="Tornar al Menú" data-en="Back to Menu">Tornar al Menú</button>
        </div>
    </div>
    <audio id="bg-music" src="tetris.mp3" preload="auto" loop style="display:none"></audio>
</body>
</html>